<!-- metricas.html -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ARCard√°pio ‚Äî Dashboard de M√©tricas</title>

  <!-- Estilos principais -->
  <link rel="stylesheet" href="../css/metricas.css" />

  <!-- Flatpickr (calend√°rios em PT-BR) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/pt.js"></script>

  <meta name="description" content="Painel de m√©tricas do ARCard√°pio: escaneamento por mesa/QRCode, sess√µes, tempo no card√°pio, picos de acesso, uso do bot√£o Like/Dislike, Info e modelos em AR." />
</head>
<body>
  <!-- NAVBAR -->
  <header class="navbar" role="banner">
    <div class="navbar-container">
      <div class="navbar-brand">
        <h1>ARCard√°pio</h1>
        <span class="subtitle">Dashboard de M√©tricas</span>
      </div>
      <nav class="navbar-nav" aria-label="Navega√ß√£o principal">
        <a href="../html/home.html" class="nav-link">‚Üê Voltar para Home</a>
      </nav>
    </div>
  </header>

  <!-- CONTE√öDO PRINCIPAL -->
  <main class="main-container" role="main">

    <!-- ===== FILTROS ===== -->
    <section class="filters-section" aria-labelledby="titulo-filtros">
      <h2 id="titulo-filtros" class="section-title">Filtros</h2>

      <div class="filters-grid">
        <div class="filters-group">
          <label class="filter-label" for="periodFilter">Per√≠odo r√°pido:</label>
          <select id="periodFilter" class="filter-select">
            <option value="custom" selected>PER√çODO</option>
            <option value="7d">7 √öLTIMOS DIAS</option>
            <option value="15d">15 √öLTIMOS DIAS</option>
            <option value="30d">30 √öLTIMOS DIAS</option>
            <option value="60d">60 √öLTIMOS DIAS</option>
            <option value="mesAnterior">M√äS ANTERIOR</option>
            <option value="mesAtual">M√äS ATUAL</option>
          </select>
        </div>

        <div class="filters-group">
          <label class="filter-label" for="startDate">Data inicial</label>
          <input
            id="startDate"
            type="text"
            class="filter-input date-input"
            placeholder="dd/mm/aaaa"
            inputmode="numeric"
            autocomplete="off"
          />
        </div>

        <div class="filters-group">
          <label class="filter-label" for="endDate">Data final</label>
          <input
            id="endDate"
            type="text"
            class="filter-input date-input"
            placeholder="dd/mm/aaaa"
            inputmode="numeric"
            autocomplete="off"
          />
        </div>

        <!-- Bot√µes -->
        <button id="btnApplyFilters" type="button" class="btn btn-primary">APLICAR FILTROS</button>
        <button id="clearRange" type="button" class="btn btn-secondary">LIMPAR</button>

        <!-- Campo extra usado pelo JS (se precisar exibir "dd/mm/aaaa a dd/mm/aaaa") -->
        <input id="filterRange" type="text" style="display:none;" aria-hidden="true" />
      </div>
    </section>

    <!-- ========= RESUMO (KPIs) ========= -->
    <section class="kpis-section" aria-labelledby="titulo-resumo">
      <h2 id="titulo-resumo" class="section-title">Resumo</h2>

      <!-- Linha 1 de KPIs -->
      <div class="kpis-grid">
        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">
              Total de Scans de QR
              <button class="kpi-help" aria-label="O que √© isso?" data-tooltip="Soma de todas as leituras de QR Codes no per√≠odo selecionado.">?</button>
            </h3>
            <span class="kpi-icon" aria-hidden="true">üìä</span>
          </div>
          <p id="kpiScans" class="kpi-value">--</p>
          <span id="kpiTotalScansDelta" class="kpi-change">‚Äî</span>
        </article>

        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">
              Sess√µes
              <button class="kpi-help" aria-label="O que √© isso?" data-tooltip="Quantas vezes o card√°pio foi realmente usado como uma visita completa, <br>
              somando todas as pessoas, nesse per√≠odo. Cada vez que algu√©m escaneia o QR e navega pelo card√°pio conta 1 sess√£o; <br>
              se a pessoa voltar mais tarde ou outra pessoa escanear, conta outra sess√£o.">?</button>
            </h3>
            <span class="kpi-icon" aria-hidden="true">üë•</span>
          </div>
          <p id="kpiSessoes" class="kpi-value">--</p>
          <span id="kpiSessionsUniqueDelta" class="kpi-change">‚Äî</span>
        </article>

        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">
              Usu√°rios √önicos
              <button class="kpi-help" aria-label="O que √© isso?" data-tooltip="Quantas pessoas diferentes usaram o card√°pio nesse per√≠odo. <br>
              Cada celular ou navegador conta como 1 usu√°rio √∫nico, <br>
              mesmo que a pessoa volte e use o card√°pio v√°rias vezes.">?</button>
            </h3>
            <span class="kpi-icon" aria-hidden="true">üßë‚Äçü§ù‚Äçüßë</span>
          </div>
          <p id="kpiUnicos" class="kpi-value">--</p>
          <span id="kpiUsersUniqueDelta" class="kpi-change">‚Äî</span>
        </article>

        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">
              Taxa de Info
              <button class="kpi-help" aria-label="O que √© isso?" data-tooltip="√â o Percentual de cliques no bot√£o de Informa√ß√µes em rela√ß√£o aos Escaneamento do QRCode.">?</button>
            </h3>
            <span class="kpi-icon" aria-hidden="true">‚ÑπÔ∏è</span>
          </div>
          <p id="kpiInfoRate" class="kpi-value">--</p>
          <span id="kpiInfoRateDelta" class="kpi-change">‚Äî</span>
        </article>
      </div>

      <!-- Linha 2 de KPIs -->
      <div class="kpis-grid">
        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">
              Tempo M√©dio por Item
              <button class="kpi-help" aria-label="O que √© isso?" data-tooltip="Mostra, em m√©dia, quanto tempo os clientes ficam olhando cada item do card√°pio quando abrem ele.">?</button>
            </h3>
            <span class="kpi-icon">üçï</span>
          </div>
          <p id="kpiAvgTimePerItem" class="kpi-value">--</p>
        </article>

        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">
              Tempo M√©dio por Categoria
              <button class="kpi-help" aria-label="O que √© isso?" data-tooltip="Tempo m√©dio dentro de cada categoria do card√°pio.">?</button>
            </h3>
            <span class="kpi-icon">üóÇÔ∏è</span>
          </div>
          <p id="kpiAvgTimePerCategory" class="kpi-value">--</p>
        </article>

        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">
              Cliques no Info
              <button class="kpi-help" aria-label="O que √© isso?" data-tooltip="N√∫mero total de cliques dos clientes no bot√£o de Informa√ß√µes dos itens do card√°pio.">?</button>
            </h3>
            <span class="kpi-icon">‚ÑπÔ∏è</span>
          </div>
          <p id="kpiInfoClicks" class="kpi-value">--</p>
        </article>

        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">
              Tempo M√©dio de Leitura
              <button class="kpi-help" aria-label="O que √© isso?" data-tooltip="Tempo m√©dio gasto lendo as informa√ß√µes dos itens.">?</button>
            </h3>
            <span class="kpi-icon">‚è±Ô∏è</span>
          </div>
          <p id="kpiInfoAvgTime" class="kpi-value">--</p>
        </article>

        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">
              Clientes Ativos
              <button class="kpi-help" aria-label="O que √© isso?" data-tooltip="Mostra quantos clientes diferentes usaram o App desse restaurante no per√≠odo selecionado, <br>
              somando clientes novos e clientes que voltaram.">?</button>
            </h3>
            <span class="kpi-icon">üî•</span>
          </div>
          <p id="kpiActiveClients" class="kpi-value">--</p>
        </article>

        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">
              Novos Clientes
              <button class="kpi-help" aria-label="O que √© isso?" data-tooltip="Novos Clientes que come√ßaram a usar o App no per√≠odo.">?</button>
            </h3>
            <span class="kpi-icon">üÜï</span>
          </div>
          <p id="kpiNewClients" class="kpi-value">--</p>
        </article>

        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">
              Clientes Recorrentes
              <button class="kpi-help" aria-label="O que √© isso?" data-tooltip="Usu√°rios finais que voltaram a acessar o App no per√≠odo.">?</button>
            </h3>
            <span class="kpi-icon">üîÅ</span>
          </div>
          <p id="kpiRecurringClients" class="kpi-value">--</p>
        </article>

        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">
              Taxa de Retorno
              <button class="kpi-help" aria-label="O que √© isso?" data-tooltip="Percentual de clientes retornantes sobre o total de clientes (novos + recorrentes).">?</button>
            </h3>
            <span class="kpi-icon">üìà</span>
          </div>
          <p id="kpiReturnRate" class="kpi-value">--</p>
        </article>
      </div>
    </section>

    <!-- ===== GRADE PRINCIPAL ===== -->
    <div class="dashboard-grid">

      <!-- Escaneamento Total de QR Code -->
      <section class="chart-section col-12" aria-labelledby="titulo-scans-geral">
        <div class="section-header">
          <h2 id="titulo-scans-geral" class="section-title">
            Escaneamento Total de QR Code
            <button class="kpi-help" aria-label="O que √© isso?" data-tooltip="Soma di√°ria de todas as leituras de QR Codes no per√≠odo selecionado.">?</button>
          </h2>
          <span class="section-subtitle">
            Representa o total de vezes que os QR Codes foram escaneados dentro do per√≠odo selecionado.
            Cada ponto no gr√°fico indica a quantidade de leituras feitas naquele dia.
          </span>
        </div>

        <div class="chart-container">
          <canvas id="chartScansTotal" aria-label="Gr√°fico de escaneamentos por dia"></canvas>
        </div>
      </section>

      <!-- Scans por Mesa/QR -->
      <section class="chart-section col-4" aria-labelledby="titulo-escaneamento-mesa">
        <div class="chart-header is-inline-help">
          <h2 id="titulo-escaneamento-mesa" class="section-title">
            Escaneamento por Mesa/QRCode
            <button class="kpi-help" 
              aria-label="O que √© isso?" 
              data-tooltip="Mostra, para cada mesa/QRCode:<br>
            (Mesa) qual mesa foi escaneada;<br>
            (Scans no Per√≠odo) quantas vezes essa mesa foi escaneada no per√≠odo;<br>
            (√öltimo Scan) o hor√°rio do √∫ltimo escaneamento dessa mesa;<br>
            (% do Total) quanto essa mesa representa do total de escaneamentos de todas as mesas.">?
          </button>
          </h2>
        </div>

        <div class="chart-container chart-container--stacked">
          <div class="chart-container__canvas">
            <canvas id="chartScansByMesa" aria-label="Gr√°fico de scans por mesa"></canvas>
          </div>

          <div class="chart-container__table" role="region" aria-label="Tabela de scans por mesa">
            <table class="data-table">
              <thead>
                <tr>
                  <th scope="col">Mesa</th>
                  <th scope="col">Scans no Per√≠odo</th>
                  <th scope="col">√öltimo Scan</th>
                  <th scope="col">% do Total</th>
                </tr>
              </thead>
              <tbody id="tbodyMesaQR">
                <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Engajamento por mesa -->
      <section class="chart-section col-4" aria-labelledby="titulo-engajamento-mesa">
        <div class="section-header">
          <h2 id="titulo-engajamento-mesa" class="section-title">
            Engajamento por Mesa
            <button class="kpi-help" 
            aria-label="O que √© isso?" 
            data-tooltip="Mostra, a intera√ß√£o de cada mesa/QRCode:<br>
            (Mesa/QR) qual mesa ou QR foi usado;<br>
            (Tempo M√©dio) quanto tempo, em m√©dia, os clientes ficaram usando o card√°pio nessa mesa em cada visita;<br>
            (M√©dia das Intera√ß√µes) quantos toques, em m√©dia, os clientes deram no card√°pio nessa mesa (trocar item, abrir informa√ß√µes, like etc.) em cada visita;<br>
            (Sess√µes) quantas visitas completas ao card√°pio aconteceram nessa mesa no per√≠odo.">?</button>
          </h2>
          <span class="section-subtitle">Tempo e intera√ß√µes</span>
        </div>

        <div class="chart-container">
          <canvas id="chartEngagementByMesa" aria-label="Gr√°fico de engajamento por mesa"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de engajamento por mesa">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Mesa/QR</th>
                <th scope="col">Tempo M√©dio</th>
                <th scope="col">M√©dia das Intera√ß√µes</th>
                <th scope="col">Sess√µes</th>
              </tr>
            </thead>
            <tbody id="tableEngagementByMesa">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Sess√µes por per√≠odo -->
      <section class="chart-section col-4" aria-labelledby="titulo-sessoes">
        <div class="section-header">
          <h2 id="titulo-sessoes" class="section-title">
            Sess√µes por Per√≠odo
            <button class="kpi-help" 
            aria-label="O que √© isso?" 
            data-tooltip="Mostra, ao longo dos dias escolhidos, como o uso do card√°pio sobe ou desce.<br>
            (Per√≠odo) o dia dentro do intervalo selecionado;<br>
            (Sess√µes) quantas visitas completas ao card√°pio aconteceram nesse dia;<br>
            (Usu√°rios √önicos) quantas pessoas diferentes usaram o card√°pio nesse dia (mesmo cliente que entrou v√°rias vezes conta s√≥ uma vez);<br>
            (Sess√µes/Usu√°rio) em m√©dia, quantas vezes cada pessoa usou o card√°pio nesse dia.">?</button>
          </h2>
          <span class="section-subtitle">Tend√™ncia e engajamento</span>
        </div>

        <div class="chart-container">
          <canvas id="chartSessoes" aria-label="Gr√°fico de sess√µes"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de sess√µes">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Per√≠odo</th>
                <th scope="col">Sess√µes</th>
                <th scope="col">Usu√°rios √önicos</th>
                <th scope="col">Sess√µes/Usu√°rio</th>
              </tr>
            </thead>
            <tbody id="tbodySessoes">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Tempo m√©dio no card√°pio -->
      <section class="chart-section col-4" aria-labelledby="titulo-tempo-menu">
        <div class="section-header">
          <h2 id="titulo-tempo-menu" class="section-title">
            Tempo M√©dio (Card√°pio)
            <button class="kpi-help" 
            aria-label="O que √© isso?" 
            data-tooltip="Mostra quanto tempo, em m√©dia, os clientes ficam usando o card√°pio digital em cada dia do per√≠odo.<br>
            (Per√≠odo) o dia dentro do intervalo escolhido;<br>
            (Tempo M√©dio) tempo m√©dio que os clientes ficam usando o card√°pio nesse dia;<br>
            (Mediana) tempo que representa melhor a maioria dos clientes nesse dia, pois ignora casos muito fora do normal (muito r√°pidos ou muito longos);<br>
            (Amostras) quantas sess√µes reais foram usadas para calcular esses tempos.">?</button>
          </h2>
          <span class="section-subtitle">Dura√ß√£o de perman√™ncia</span>
        </div>

        <div class="chart-container">
          <canvas id="chartAvgTimeMenu" aria-label="Gr√°fico de tempo m√©dio no card√°pio"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de tempo m√©dio no card√°pio">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Per√≠odo</th>
                <th scope="col">Tempo M√©dio</th>
                <th scope="col">Mediana</th>
                <th scope="col">Amostras</th>
              </tr>
            </thead>
            <tbody id="tableAvgTimeMenu">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Hor√°rio de pico -->
      <section class="chart-section col-4" aria-labelledby="titulo-horario-pico">
        <div class="section-header">
          <h2 id="titulo-horario-pico" class="section-title">
            Hor√°rio de Pico
            <button class="kpi-help" 
            aria-label="O que √© isso?" 
            data-tooltip="Mostra, para cada dia, em quais hor√°rios o QRCode foi usado e quantos escaneamentos aconteceram em cada hor√°rio.<br>
            (Data) dia em que o cliente usou o card√°pio;<br>
            (Hora) hor√°rio em que o QRCode foi escaneado;<br>
            (Scans) quantas leituras do QRCode aconteceram nesse dia e hor√°rio.">?</button>
          </h2>
          <span class="section-subtitle">Uso por hora/dia/m√™s</span>
        </div>

        <div class="chart-container">
          <canvas id="chartPeakHours" aria-label="Gr√°fico de hor√°rios de pico"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de hor√°rios de pico">
          <table class="tbl-metric" aria-label="Hor√°rio de Pico">
            <colgroup>
              <col class="col-date" />
              <col class="col-hour" />
              <col class="col-scans" />
            </colgroup>
            <thead>
              <tr>
                <th>Data</th>
                <th>Hora</th>
                <th>Escaneamento</th>
              </tr>
            </thead>
            <tbody id="tablePeakHours">
              <tr><td colspan="3" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Uso do bot√£o Like -->
      <section class="chart-section chart-section-like col-4" aria-labelledby="titulo-like">
        <div class="section-header">
          <h2 id="titulo-like" class="section-title">
            Uso do bot√£o "Like"
            <button
              class="kpi-help"
              aria-label="O que √© isso?"
              data-tooltip="Mostra a quantidade de likes e deslikes por item no per√≠odo selecionado.<br>
              (Item) qual prato ou bebida do card√°pio;<br>
              (Like) quantas curtidas esse item recebeu;<br>
              (Deslike) quantos n√£o gostaram desse item (cliques em Deslike);<br>
              (% do Like) porcentagem de likes superior aos deslikes para esse item.">?</button>
          </h2>
          <span class="section-subtitle">Curtidas</span>
        </div>

        <!-- KPIs (linha de cima) -->
        <div class="kpis-grid kpis-grid-like">
          <!-- LIKE TOTAL -->
          <article class="kpi-card">
            <div class="kpi-header">
              <h3 class="kpi-title">
                Like Total
                <button
                  class="kpi-help"
                  aria-label="O que √© isso?"
                  data-tooltip="Total de cliques no bot√£o Like em todos os itens no per√≠odo selecionado."
                >?</button>
              </h3>
              <span class="kpi-icon kpi-icon-like" aria-hidden="true">üëç</span>
            </div>
            <p id="kpi-like-total" class="kpi-value">0</p>
          </article>

          <!-- DESLIKE TOTAL -->
          <article class="kpi-card">
            <div class="kpi-header">
              <h3 class="kpi-title">
                Deslike Total
                <button
                  class="kpi-help"
                  aria-label="O que √© isso?"
                  data-tooltip="Total de cliques no bot√£o Deslike em todos os itens no per√≠odo selecionado."
                >?</button>
              </h3>
              <span class="kpi-icon kpi-icon-dislike" aria-hidden="true">üëé</span>
            </div>
            <p id="kpi-dislike-total" class="kpi-value">0</p>
          </article>
        </div>

        <!-- Tabela logo embaixo -->
        <div class="table-wrapper table-wrapper-like" role="region" aria-label="Tabela de likes por item">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Item</th>
                <th scope="col">Like</th>
                <th scope="col">Deslike</th>
                <th scope="col">% do Like</th>
              </tr>
            </thead>
            <tbody id="table-like-usage-body">
              <tr>
                <td colspan="4" class="text-center">Carregando...</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Tempo por Categoria -->
      <section class="chart-section col-6" aria-labelledby="titulo-tempo-categoria">
        <div class="section-header">
          <h2 id="titulo-tempo-categoria" class="section-title">
            Tempo por Categoria
            <button class="kpi-help" 
            aria-label="O que √© isso?" 
            data-tooltip="Mostra, em cada categoria do card√°pio, quanto tempo os clientes ficam olhando, quantas visitas passaram por ali e quanto essa categoria pesa no tempo total de uso do card√°pio.<br>
            (Categoria) tipo de item do card√°pio (Carnes, Bebidas, Pizzas etc.);<br>
            (Tempo M√©dio) tempo m√©dio que os clientes ficam nessa categoria em cada visita ao card√°pio;<br>
            (Sess√µes) quantas visitas ao card√°pio tiveram pelo menos um item dessa categoria aberto;<br>
            (% do Tempo) qual parte do tempo total de uso do card√°pio foi gasta nessa categoria.">?</button>
          </h2>
          <span class="section-subtitle">Tempo m√©dio de perman√™ncia</span>
        </div>

        <div class="chart-container">
          <canvas id="chartTimeByCategory" aria-label="Gr√°fico de tempo por categoria"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de tempo por categoria">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Categoria</th>
                <th scope="col">Tempo M√©dio</th>
                <th scope="col">Sess√µes</th>
                <th scope="col">% do Tempo</th>
              </tr>
            </thead>
            <tbody id="tbodyTimeByCategory">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Bot√£o Info (por item) -->
      <section class="chart-section col-4" aria-labelledby="titulo-info-por-item">
        <div class="section-header">
          <h2 id="titulo-info-por-item" class="section-title">
            Botao Info
            <button class="kpi-help" 
            aria-label="O que √© isso?" 
            data-tooltip="Mostra, para cada item do card√°pio, quanto os clientes se interessam pelas informa√ß√µes detalhadas: quantas vezes abriram o bot√£o Info e quanto tempo, em m√©dia, ficaram lendo esse painel.<br>
            (Item) qual prato ou bebida do card√°pio;<br>
            (Tempo M√©dio (Info)) tempo m√©dio que os clientes passam com o painel de informa√ß√µes desse item aberto;<br>
            (Cliques Info) quantas vezes o bot√£o Info desse item foi clicado no per√≠odo.">?</button>
          </h2>
          <span class="section-subtitle">Curiosidade e leitura</span>
        </div>

        <div class="chart-container">
          <canvas id="chartInfoPerItem" aria-label="Gr√°fico de Info por item"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de Info por item">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Item</th>
                <th scope="col">Tempo M√©dio (Info)</th>
                <th scope="col">Cliques Info </th>
              </tr>
            </thead>
            <tbody id="tableInfoPerItem">
              <tr><td colspan="3" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Tempo por item -->
      <section class="chart-section col-4" aria-labelledby="titulo-tempo-item">
        <div class="section-header">
          <h2 id="titulo-tempo-item" class="section-title">
            Tempo por Item
            <button class="kpi-help" 
            aria-label="O que √© isso?" 
            data-tooltip="Mostra, para cada item do card√°pio, quanto ele √© visto e por quanto tempo, dentro do per√≠odo escolhido.<br>
            (Item) qual prato ou bebida do card√°pio;<br>
            (Tempo M√©dio) tempo m√©dio que os clientes ficam olhando esse item em cada visualiza√ß√£o;<br>
            (Visualiza√ß√µes) quantas vezes esse item foi aberto no per√≠odo;<br>
            (% do Total) quanto esse item representa do total de visualiza√ß√µes de todos os itens.">?</button>
          </h2>
          <span class="section-subtitle">Tempo de perman√™ncia por produto</span>
        </div>

        <div class="chart-container">
          <canvas id="chartTimePerItem" aria-label="Gr√°fico de tempo por item"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de tempo por item">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Item</th>
                <th scope="col">Tempo M√©dio</th>
                <th scope="col">Visualiza√ß√µes</th>
                <th scope="col">% do Total</th>
              </tr>
            </thead>
            <tbody id="tableTimePerItem">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Dispositivo Usados -->
      <section class="chart-section col-4" aria-labelledby="titulo-dispositivos">
        <div class="section-header">
          <h2 id="titulo-dispositivos" class="section-title">
            Dispositivo Usados
            <button class="kpi-help" 
            aria-label="O que √© isso?" 
            data-tooltip="Mostra, para cada tipo de dispositivo, como os clientes est√£o usando o card√°pio no per√≠odo escolhido.<br>
            (Dispositivo) tipo de aparelho usado, como celular, tablet ou computador;<br>
            (Percentual) quanto esse dispositivo representa do total de sess√µes;<br>
            (Sess√µes) quantas sess√µes foram feitas usando esse dispositivo;<br>
            (Tempo M√©dio) tempo m√©dio que cada sess√£o dura nesse tipo de dispositivo.">?</button>
          </h2>
          <span class="section-subtitle">Android, Iphone, Tablet e outros</span>
        </div>

        <div class="chart-container">
          <canvas id="chartDevices" aria-label="Gr√°fico de distribui√ß√£o por dispositivo"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de dispositivos">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Dispositivo</th>
                <th scope="col">Percentual</th>
                <th scope="col">Sess√µes</th>
                <th scope="col">Tempo M√©dio</th>
              </tr>
            </thead>
            <tbody id="tableDeviceDistribution">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Modelos mais exibidos -->
      <section class="chart-section col-4 chart-section--top10-full" aria-labelledby="titulo-modelos">
        <div class="section-header">
          <h2 id="titulo-modelos" class="section-title">
            Modelos mais exibidos
            <button class="kpi-help" 
            aria-label="O que √© isso?" 
            data-tooltip="Mostra, entre todos os itens do card√°pio, quais foram mais exibidos em realidade aumentada (modo AR) no per√≠odo escolhido.<br>
            Cada barra representa um item, e o tamanho da barra mostra quantas vezes ele foi aberto em AR (Top 10).">?</button>
          </h2>
          <span class="section-subtitle">Top 10 mais exibidos</span>
        </div>

        <div class="chart-container">
          <canvas id="chartTopModels" aria-label="Gr√°fico top modelos AR"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela top modelos AR">
          <!-- (no momento n√£o h√° tabela complementar) -->
        </div>
      </section>

    </div><!-- /dashboard-grid -->

    <!-- ===== INSIGHTS ===== -->
    <section class="insights-section" aria-labelledby="titulo-insights">
      <h2 id="titulo-insights" class="section-title">
        Insights
        <button class="kpi-help" 
        data-tooltip="Mostra coment√°rios autom√°ticos sobre o desempenho do restaurante, gerados a partir das m√©tricas do per√≠odo escolhido.<br>
        Cada linha traz a data e o hor√°rio do insight e um resumo da an√°lise.<br>
        Ao passar o mouse sobre o texto, aparece o insight completo com explica√ß√µes e sugest√µes pr√°ticas.
        ">?
        </button>
      </h2>

      <ul id="insightsList" class="insights-list">
        <li class="insight-item">
          <span class="insight-stamp">--/--/---- --:--</span>
          <span class="insight-msg">Carregando‚Ä¶</span>
        </li>
      </ul>
    </section>

  </main>

  <!-- RODAP√â -->
  <footer class="footer" role="contentinfo">
    <p>¬© 2025 ARCard√°pio ‚Äî Painel do Cliente</p>
  </footer>

  <noscript>Ative o JavaScript para visualizar gr√°ficos e dados.</noscript>

  <!-- Script de m√©tricas (dados e gr√°ficos) -->
  <script defer src="../java/metricas.js?v=4"></script>
</body>
</html>
