<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ARCard√°pio ‚Äî Dashboard de M√©tricas</title>

  <!-- Estilos -->
  <link rel="stylesheet" href="../css/metricas.css" />

  <!-- Flatpickr (calend√°rios em PT-BR) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/pt.js"></script>

  <meta name="description" content="Painel de m√©tricas do ARCard√°pio: escaneamento por mesa/QRCode, sess√µes, tempo no card√°pio, picos de acesso, uso do bot√£o Info e modelos em AR." />
</head>
<body>
  <!-- NAVBAR -->
  <header class="navbar" role="banner">
    <div class="navbar-container">
      <div class="navbar-brand">
        <h1>ARCard√°pio</h1>
        <span class="subtitle">Dashboard de M√©tricas</span>
      </div>
      <nav class="navbar-nav" aria-label="Navega√ß√£o principal">
        <a href="../html/home.html" class="nav-link">‚Üê Voltar para Home</a>
      </nav>
    </div>
  </header>

  <!-- CONTE√öDO PRINCIPAL -->
  <main class="main-container" role="main">

    <!-- ===== FILTROS ===== -->
    <section class="filters-section" aria-labelledby="titulo-filtros">
      <h2 id="titulo-filtros" class="section-title">Filtros</h2>

      <div class="filters-grid">
        <div class="filters-group">
          <label class="filter-label" for="periodFilter">Per√≠odo:</label>
          <select id="periodFilter" class="filter-select">
            <option value="custom" selected>PER√çODO</option>
            <option value="7d">7 √öLTIMOS DIAS</option>
            <option value="15d">15 √öLTIMOS DIAS</option>
            <option value="30d">30 √öLTIMOS DIAS</option>
            <option value="60d">60 √öLTIMOS DIAS</option>
            <option value="mesAnterior">M√äS ANTERIOR</option>
            <option value="mesAtual">M√äS ATUAL</option>
          </select>
        </div>

        <div class="filters-group">
          <label class="filter-label" for="startDate">Data inicial</label>
          <input id="startDate" type="text" class="filter-input date-input" placeholder="dd/mm/aaaa" inputmode="numeric" autocomplete="off"/>
        </div>

        <div class="filters-group">
          <label class="filter-label" for="endDate">Data final</label>
          <input id="endDate" type="text" class="filter-input date-input" placeholder="dd/mm/aaaa" inputmode="numeric" autocomplete="off"/>
        </div>

        <button id="applyFilters" type="button" class="btn btn-primary">APLICAR FILTROS</button>
        <button id="clearRange" type="button" class="btn btn-secondary">LIMPAR</button>
      </div>
    </section>

    <!-- ===== RESUMO (KPIs) ===== -->
    <section class="kpis-section" aria-labelledby="titulo-resumo">
      <h2 id="titulo-resumo" class="section-title">Resumo</h2>

      <!-- Linha 1 de KPIs -->
      <div class="kpis-grid">
        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">Total de Scans de QR</h3>
            <span class="kpi-icon" aria-hidden="true">üìä</span>
          </div>
          <p id="kpiTotalScans" class="kpi-value">--</p>
          <span id="kpiTotalScansDelta" class="kpi-change">‚Äî</span>
        </article>

        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">Sess√µes √önicas</h3>
            <span class="kpi-icon" aria-hidden="true">üë•</span>
          </div>
          <p id="kpiSessionsUnique" class="kpi-value">--</p>
          <span id="kpiSessionsUniqueDelta" class="kpi-change">‚Äî</span>
        </article>

        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">Tempo M√©dio no Card√°pio</h3>
            <span class="kpi-icon" aria-hidden="true">‚è±Ô∏è</span>
          </div>
          <p id="kpiAvgTimeMenu" class="kpi-value">--</p>
          <span id="kpiAvgTimeMenuDelta" class="kpi-change">‚Äî</span>
        </article>

        <article class="kpi-card">
          <div class="kpi-header">
            <h3 class="kpi-title">Tempo M√©dio em AR</h3>
            <span class="kpi-icon" aria-hidden="true">üéØ</span>
          </div>
          <p id="kpiAvgTimeAR" class="kpi-value">--</p>
          <span id="kpiAvgTimeARDelta" class="kpi-change">‚Äî</span>
        </article>
      </div>

      <!-- Linha 2 de KPIs (It√©ns / Categorias / Info / Recorr√™ncia) -->
      <!-- O espa√ßamento vertical entre a Linha 1 e a Linha 2 ser√° resolvido pelo CSS corrigido. -->
      <div class="kpis-grid">
        <article class="kpi-card">
          <div class="kpi-header"><h3 class="kpi-title">Tempo M√©dio por Item</h3><span class="kpi-icon">üçï</span></div>
          <p id="kpiAvgTimePerItem" class="kpi-value">--</p>
        </article>

        <article class="kpi-card">
          <div class="kpi-header"><h3 class="kpi-title">Tempo M√©dio por Categoria</h3><span class="kpi-icon">üóÇÔ∏è</span></div>
          <p id="kpiAvgTimePerCategory" class="kpi-value">--</p>
        </article>

        <article class="kpi-card">
          <div class="kpi-header"><h3 class="kpi-title">Cliques no Info</h3><span class="kpi-icon">‚ÑπÔ∏è</span></div>
          <p id="kpiInfoClicks" class="kpi-value">--</p>
        </article>

        <article class="kpi-card">
          <div class="kpi-header"><h3 class="kpi-title">Tempo M√©dio de Leitura (Info)</h3><span class="kpi-icon">‚è±Ô∏è</span></div>
          <p id="kpiInfoAvgTime" class="kpi-value">--</p>
        </article>

        <article class="kpi-card">
          <div class="kpi-header"><h3 class="kpi-title">Clientes Ativos</h3><span class="kpi-icon">üî•</span></div>
          <p id="kpiActiveClients" class="kpi-value">--</p>
        </article>

        <article class="kpi-card">
          <div class="kpi-header"><h3 class="kpi-title">Novos Clientes</h3><span class="kpi-icon">üÜï</span></div>
          <p id="kpiNewClients" class="kpi-value">--</p>
        </article>

        <article class="kpi-card">
          <div class="kpi-header"><h3 class="kpi-title">Clientes Recorrentes</h3><span class="kpi-icon">üîÅ</span></div>
          <p id="kpiReturningClients" class="kpi-value">--</p>
        </article>

        <article class="kpi-card">
          <div class="kpi-header"><h3 class="kpi-title">Taxa de Retorno</h3><span class="kpi-icon">üìà</span></div>
          <p id="kpiReturnRate" class="kpi-value">--</p>
        </article>
      </div>
    </section>

    <!-- ===== GRADE (3 colunas responsivas) - Classes de coluna ajustadas para col-4 ===== -->
    <div class="dashboard-grid">

      <!-- Scans de QR (faixa inteira) -->
      <section class="chart-section col-12" aria-labelledby="titulo-scans-geral">
        <div class="section-header">
          <h2 id="titulo-scans-geral" class="section-title">Escaneamento de QR Code</h2>
          <span class="section-subtitle">
            Representa o total de vezes que os QR Codes foram escaneados dentro do per√≠odo selecionado.
            Cada ponto no gr√°fico indica a quantidade de leituras feitas naquele dia.
          </span>
        </div>

        <div class="chart-container">
          <canvas id="chartScansOverall" aria-label="Gr√°fico de scans geral"></canvas>
        </div>
      </section>

      <!-- Scans por Mesa/QR -->
      <section class="chart-section col-4" aria-labelledby="titulo-scans-mesa">
        <div class="section-header">
          <h2 id="titulo-scans-mesa" class="section-title">Escaneamento por Mesa/QRCode</h2>
          <span class="section-subtitle">Detalhamento por localiza√ß√£o</span>
        </div>

        <div class="chart-container">
          <canvas id="chartScansByMesa" aria-label="Gr√°fico de scans por mesa"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de scans por mesa">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Mesa/QR</th>
                <th scope="col">Scans (Per√≠odo)</th>
                <th scope="col">√öltimo Scan</th>
                <th scope="col">% do Total</th>
              </tr>
            </thead>
            <tbody id="tableScansPerMesa">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Sess√µes por per√≠odo -->
      <section class="chart-section col-4" aria-labelledby="titulo-sessoes">
        <div class="section-header">
          <h2 id="titulo-sessoes" class="section-title">Sess√µes por Per√≠odo</h2>
          <span class="section-subtitle">Tend√™ncia e engajamento</span>
        </div>

        <div class="chart-container">
          <canvas id="chartSessions" aria-label="Gr√°fico de sess√µes"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de sess√µes">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Per√≠odo</th>
                <th scope="col">Sess√µes</th>
                <th scope="col">Usu√°rios √önicos</th>
                <th scope="col">Sess√µes/Usu√°rio</th>
              </tr>
            </thead>
            <tbody id="tableSessions">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Tempo m√©dio no card√°pio -->
      <section class="chart-section col-4" aria-labelledby="titulo-tempo-menu">
        <div class="section-header">
          <h2 id="titulo-tempo-menu" class="section-title">Tempo M√©dio no Card√°pio</h2>
          <span class="section-subtitle">Dura√ß√£o de perman√™ncia</span>
        </div>

        <div class="chart-container">
          <canvas id="chartAvgTimeMenu" aria-label="Gr√°fico de tempo m√©dio no card√°pio"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de tempo m√©dio no card√°pio">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Per√≠odo</th>
                <th scope="col">Tempo M√©dio</th>
                <th scope="col">Mediana</th>
                <th scope="col">Amostras</th>
              </tr>
            </thead>
            <tbody id="tableAvgTimeMenu">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Hor√°rio de pico -->
      <section class="chart-section col-4" aria-labelledby="titulo-pico">
        <div class="section-header">
          <h2 id="titulo-pico" class="section-title">Hor√°rio de Pico</h2>
          <span class="section-subtitle">Uso por hora/dia/m√™s</span>
        </div>

        <div class="chart-container">
          <canvas id="chartPeakHours" aria-label="Gr√°fico de hor√°rios de pico"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de hor√°rios de pico">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">M√™s</th>
                <th scope="col">Dia da Semana</th>
                <th scope="col">Hora</th>
                <th scope="col">Scans</th>
              </tr>
            </thead>
            <tbody id="tablePeakHours">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Uso do bot√£o Info - Ajuste para usar kpis-grid e chart-container separados -->
      <section class="chart-section col-4" aria-labelledby="titulo-info">
        <div class="section-header">
          <h2 id="titulo-info" class="section-title">Uso do bot√£o "Info"</h2>
          <span class="section-subtitle">Aberturas e tempo</span>
        </div>

        <!-- KPIs internos para Aberturas e Tempo M√©dio (agora com espa√ßamento corrigido pelo CSS) -->
        <div class="kpis-grid">
          <article class="kpi-card">
            <div class="kpi-header"><h3 class="kpi-title">Aberturas</h3><span class="kpi-icon" aria-hidden="true">‚ÑπÔ∏è</span></div>
            <p id="kpiInfoOpens" class="kpi-value">--</p>
          </article>
          <article class="kpi-card">
            <div class="kpi-header"><h3 class="kpi-title">Tempo M√©dio</h3><span class="kpi-icon" aria-hidden="true">‚è±Ô∏è</span></div>
            <p id="kpiInfoAvgTime" class="kpi-value">--</p>
          </article>
        </div>

        <div class="chart-container" style="margin-top: var(--spacing-lg);">
          <canvas id="chartInfoUsage" aria-label="Gr√°fico de uso do bot√£o Info"></canvas>
        </div>
      </section>

      <!-- Tempo por item -->
      <section class="chart-section col-4" aria-labelledby="titulo-tempo-item">
        <div class="section-header">
          <h2 id="titulo-tempo-item" class="section-title">Tempo por Item</h2>
          <span class="section-subtitle">Dwell time por produto</span>
        </div>

        <div class="chart-container">
          <canvas id="chartTimePerItem" aria-label="Gr√°fico de tempo por item"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de tempo por item">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Item</th>
                <th scope="col">Tempo M√©dio</th>
                <th scope="col">Visualiza√ß√µes</th>
                <th scope="col">% do Total</th>
              </tr>
            </thead>
            <tbody id="tableTimePerItem">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Itens mais visualizados -->
      <section class="chart-section col-4" aria-labelledby="titulo-itens-mais-vistos">
        <div class="section-header">
          <h2 id="titulo-itens-mais-vistos" class="section-title">Itens mais visualizados</h2>
          <span class="section-subtitle">Top 10 de interesse</span>
        </div>

        <div class="chart-container">
          <canvas id="chartTopItems" aria-label="Gr√°fico de itens mais visualizados"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de itens mais visualizados">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Item</th>
                <th scope="col">Visualiza√ß√µes</th>
                <th scope="col">Tempo M√©dio</th>
                <th scope="col">Categoria</th>
              </tr>
            </thead>
            <tbody id="tableTopItems">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Tempo por categoria -->
      <section class="chart-section col-4" aria-labelledby="titulo-tempo-categoria">
        <div class="section-header">
          <h2 id="titulo-tempo-categoria" class="section-title">Tempo por Categoria</h2>
          <span class="section-subtitle">Tempo m√©dio de perman√™ncia</span>
        </div>

        <div class="chart-container">
          <canvas id="chartTimePerCategory" aria-label="Gr√°fico de tempo por categoria"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de tempo por categoria">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Categoria</th>
                <th scope="col">Tempo M√©dio</th>
                <th scope="col">Sess√µes</th>
                <th scope="col">% do Tempo</th>
              </tr>
            </thead>
            <tbody id="tableTimePerCategory">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Categorias mais acessadas -->
      <section class="chart-section col-4" aria-labelledby="titulo-categorias-mais">
        <div class="section-header">
          <h2 id="titulo-categorias-mais" class="section-title">Categorias mais acessadas</h2>
          <span class="section-subtitle">Popularidade por cliques</span>
        </div>

        <div class="chart-container">
          <canvas id="chartCategoryPopularity" aria-label="Gr√°fico de categorias mais acessadas"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de categorias mais acessadas">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Categoria</th>
                <th scope="col">Cliques</th>
                <th scope="col">Tempo M√©dio</th>
                <th scope="col">% do Total</th>
              </tr>
            </thead>
            <tbody id="tableCategoryPopularity">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Uso do bot√£o Info por item -->
      <section class="chart-section col-4" aria-labelledby="titulo-info-por-item">
        <div class="section-header">
          <h2 id="titulo-info-por-item" class="section-title">Info por Item</h2>
          <span class="section-subtitle">Curiosidade e leitura</span>
        </div>

        <div class="chart-container">
          <canvas id="chartInfoPerItem" aria-label="Gr√°fico de Info por item"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de Info por item">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Item</th>
                <th scope="col">Cliques Info</th>
                <th scope="col">Tempo M√©dio (Info)</th>
                <th scope="col">Visualiza√ß√µes</th>
              </tr>
            </thead>
            <tbody id="tableInfoPerItem">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Recorr√™ncia (novos vs recorrentes) -->
      <section class="chart-section col-4" aria-labelledby="titulo-recorrencia">
        <div class="section-header">
          <h2 id="titulo-recorrencia" class="section-title">Recorr√™ncia de Clientes</h2>
          <span class="section-subtitle">Novos x Retornando</span>
        </div>

        <div class="kpis-grid">
          <article class="kpi-card">
            <div class="kpi-header"><h3 class="kpi-title">Novos</h3><span class="kpi-icon">üÜï</span></div>
            <p id="kpiRecNew" class="kpi-value">--</p>
          </article>
          <article class="kpi-card">
            <div class="kpi-header"><h3 class="kpi-title">Retornando</h3><span class="kpi-icon">üîÅ</span></div>
            <p id="kpiRecReturning" class="kpi-value">--</p>
          </article>
          <article class="kpi-card">
            <div class="kpi-header"><h3 class="kpi-title">% Retorno</h3><span class="kpi-icon">üìà</span></div>
            <p id="kpiRecRate" class="kpi-value">--</p>
          </article>
        </div>

        <div class="chart-container" style="margin-top: var(--spacing-lg);">
          <canvas id="chartRecurrence" aria-label="Gr√°fico de recorr√™ncia"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de recorr√™ncia">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Cliente (an√¥nimo)</th>
                <th scope="col">Scans</th>
                <th scope="col">√öltimo Scan</th>
                <th scope="col">Dias desde o √∫ltimo</th>
              </tr>
            </thead>
            <tbody id="tableRecurrence">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Engajamento por mesa (tempo e intera√ß√µes) -->
      <section class="chart-section col-4" aria-labelledby="titulo-engajamento-mesa">
        <div class="section-header">
          <h2 id="titulo-engajamento-mesa" class="section-title">Engajamento por Mesa</h2>
          <span class="section-subtitle">Tempo e intera√ß√µes</span>
        </div>

        <div class="chart-container">
          <canvas id="chartEngagementByMesa" aria-label="Gr√°fico de engajamento por mesa"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de engajamento por mesa">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Mesa/QR</th>
                <th scope="col">Tempo M√©dio</th>
                <th scope="col">Intera√ß√µes/Sess√£o</th>
                <th scope="col">Sess√µes</th>
              </tr>
            </thead>
            <tbody id="tableEngagementByMesa">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Distribui√ß√£o por dispositivo -->
      <section class="chart-section col-4" aria-labelledby="titulo-dispositivos">
        <div class="section-header">
          <h2 id="titulo-dispositivos" class="section-title">Distribui√ß√£o por Dispositivo</h2>
          <span class="section-subtitle">Celular, tablet e outros</span>
        </div>

        <div class="chart-container">
          <canvas id="chartDeviceDistribution" aria-label="Gr√°fico de distribui√ß√£o por dispositivo"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de dispositivos">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Dispositivo</th>
                <th scope="col">Percentual</th>
                <th scope="col">Sess√µes</th>
                <th scope="col">Tempo M√©dio</th>
              </tr>
            </thead>
            <tbody id="tableDeviceDistribution">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Modelos AR (top) -->
      <section class="chart-section col-4" aria-labelledby="titulo-modelos">
        <div class="section-header">
          <h2 id="titulo-modelos" class="section-title">Modelos em AR mais exibidos</h2>
          <span class="section-subtitle">Top 5 + vis√£o geral</span>
        </div>

        <div class="chart-container">
          <canvas id="chartTopModels" aria-label="Gr√°fico top modelos AR"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela top modelos AR">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Modelo/Item</th>
                <th scope="col">Exibi√ß√µes</th>
                <th scope="col">Tempo M√©dio</th>
                <th scope="col">Erros</th>
              </tr>
            </thead>
            <tbody id="tableTopModels">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Sa√∫de dos modelos (carregado x erro) -->
      <section class="chart-section col-4" aria-labelledby="titulo-model-health">
        <div class="section-header">
          <h2 id="titulo-model-health" class="section-title">Sa√∫de dos Modelos</h2>
          <span class="section-subtitle">Carregados vs Erros</span>
        </div>

        <div class="kpis-grid">
          <article class="kpi-card">
            <div class="kpi-header"><h3 class="kpi-title">Carregados</h3><span class="kpi-icon">‚úÖ</span></div>
            <p id="kpiModelsLoaded" class="kpi-value">--</p>
          </article>
          <article class="kpi-card">
            <div class="kpi-header"><h3 class="kpi-title">Erros</h3><span class="kpi-icon">‚ö†Ô∏è</span></div>
            <p id="kpiModelsErrors" class="kpi-value">--</p>
          </article>
        </div>

        <div class="chart-container" style="margin-top: var(--spacing-lg);">
          <canvas id="chartModelHealth" aria-label="Gr√°fico de sa√∫de dos modelos"></canvas>
        </div>

        <div class="table-wrapper" role="region" aria-label="Tabela de erros de modelo">
          <table class="data-table">
            <thead>
              <tr>
                <th scope="col">Item/Modelo</th>
                <th scope="col">Erro</th>
                <th scope="col">Ocorr√™ncias</th>
                <th scope="col">√öltimo</th>
              </tr>
            </thead>
            <tbody id="tableModelErrors">
              <tr><td colspan="4" class="text-center">Carregando‚Ä¶</td></tr>
            </tbody>
          </table>
        </div>
      </section>

    </div><!-- /dashboard-grid -->

    <!-- ===== INSIGHTS ===== -->
    <section class="insights-section" aria-labelledby="titulo-insights">
      <h2 id="titulo-insights" class="section-title">Insights</h2>
      <ul id="insightsList" class="insights-list"><li>Carregando‚Ä¶</li></ul>
    </section>

  </main>

  <!-- RODAP√â -->
  <footer class="footer" role="contentinfo">
    <p>¬© 2025 ARCard√°pio ‚Äî Painel do Cliente</p>
  </footer>

  <noscript>Ative o JavaScript para visualizar gr√°ficos e dados.</noscript>

  <!-- Bibliotecas -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>

  <script>
    /* Desativa a legenda globalmente (remove "Scans Totais") */
    window.addEventListener('DOMContentLoaded', () => {
      if (window.Chart && Chart.defaults?.plugins?.legend) {
        Chart.defaults.plugins.legend.display = false;
      }
    });
  </script>


  <!-- Inicializa√ß√£o dos calend√°rios -->
  <script>
    window.addEventListener('DOMContentLoaded', function () {
      const defaultStart = "13/10/2025";
      const defaultEnd   = "31/10/2025";

      const startPicker = flatpickr("#startDate", {
        locale: flatpickr.l10ns.pt,
        dateFormat: "d/m/Y",
        allowInput: true,
        defaultDate: defaultStart,
        monthSelectorType: "static",
      });

      const endPicker = flatpickr("#endDate", {
        locale: flatpickr.l10ns.pt,
        dateFormat: "d/m/Y",
        allowInput: true,
        defaultDate: defaultEnd,
        monthSelectorType: "static",
      });

      document.getElementById("clearRange").addEventListener("click", () => {
        startPicker.clear();
        endPicker.clear();
        document.getElementById("periodFilter").value = "custom";
      });

      document.getElementById("periodFilter").addEventListener("change", (e) => {
        if (e.target.value !== "custom") {
          startPicker.clear();
          endPicker.clear();
        }
      });
    });
  </script>

  <!-- Script de m√©tricas (apenas estrutura pronta; dados ser√£o preenchidos em metricas.js) -->
  <script src="../java/metricas.js" defer></script>
</body>
</html>